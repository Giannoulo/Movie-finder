(this["webpackJsonpmovie-finder"]=this["webpackJsonpmovie-finder"]||[]).push([[0],{24:function(e,t,i){},33:function(e,t,i){"use strict";i.r(t);var c=i(1),n=i.n(c),r=i(10),o=i.n(r),a=(i(24),i(25),i(6)),s=i(7),d=i(4),l="POPULATE_MOVIE_LIST",u="ADD_PICKED_MOVIE",j="CARD_NUMBER",b="PLAY_FINDER",m="RESTART_FINDER",v="DARK_MODE",h=function(){return{type:m}},O=i(0);var p={toggleDarkMode:function(){return{type:v}},restartFinderFunction:h},f=Object(d.b)((function(e){return{darkMode:e.darkMode}}),p)((function(e){return Object(O.jsx)(O.Fragment,{children:e.darkMode?Object(O.jsxs)("div",{className:"row align-items-center dark",id:"header-row",children:[Object(O.jsx)("div",{className:"col-9 dark",id:"header-col",children:Object(O.jsxs)("span",{onClick:function(){return e.restartFinderFunction()},children:[Object(O.jsx)(a.a,{icon:s.a,id:"header-icon",className:"dark"}),"Movie Finder"]})}),Object(O.jsxs)("div",{className:"col-3",children:[Object(O.jsx)("div",{id:"dark-mode-title",children:"Dark Mode"}),Object(O.jsxs)("label",{className:"switch",children:[Object(O.jsx)("input",{type:"checkbox",name:"dark-mode-checkbox",onClick:function(){return e.toggleDarkMode()}}),Object(O.jsx)("span",{className:"slider round"})]})]})]}):Object(O.jsxs)("div",{className:"row align-items-center",id:"header-row",children:[Object(O.jsx)("div",{className:"col-9",id:"header-col",children:Object(O.jsxs)("span",{onClick:function(){return e.restartFinderFunction()},children:[Object(O.jsx)(a.a,{icon:s.a,id:"header-icon"}),"Movie Finder"]})}),Object(O.jsxs)("div",{className:"col-3",children:[Object(O.jsx)("div",{id:"dark-mode-title",children:"Dark Mode"}),Object(O.jsxs)("label",{className:"switch",children:[Object(O.jsx)("input",{type:"checkbox",name:"dark-mode-checkbox",onClick:function(){return e.toggleDarkMode()}}),Object(O.jsx)("span",{className:"slider round"})]})]})]})})})),x=i(12),N=i(13),y=i(18),k=i.n(y),M=i.p+"static/media/imdb_top_1000.e12a5ba6.csv",w={increaseCardNumber:function(){return{type:j}},addPickedMovie:function(e){return{type:u,payload:e}}},F=Object(d.b)((function(e){return{darkMode:e.darkMode}}),w)((function(e){var t=Object(c.useState)("movie-tile-description-hidden"),i=Object(x.a)(t,2),n=i[0],r=i[1];return Object(O.jsx)(O.Fragment,{children:e.darkMode?Object(O.jsxs)("div",{className:"movie-tile ",children:[Object(O.jsx)(a.a,{icon:s.b,className:"movietile-info",onMouseEnter:function(){return r("movie-tile-description-shown")},onMouseLeave:function(){return r("movie-tile-description-hidden")},onTouchStart:function(){return r("movie-tile-description-shown")}}),Object(O.jsx)("p",{className:n,children:e.movie[4]}),Object(O.jsx)("img",{onClick:e.recommendation?void 0:function(){e.increaseCardNumber(),e.addPickedMovie(e.movie)},src:e.movie[0],alt:e.movie[1],className:"movie-tile-img dark-tile-img"}),Object(O.jsx)("div",{className:"movie-tile-title",children:e.movie[1]})]}):Object(O.jsxs)("div",{className:"movie-tile",children:[Object(O.jsx)(a.a,{icon:s.b,className:"movietile-info",onMouseEnter:function(){return r("movie-tile-description-shown")},onMouseLeave:function(){return r("movie-tile-description-hidden")},onTouchStart:function(){return r("movie-tile-description-shown")}}),Object(O.jsx)("p",{className:n,children:e.movie[4]}),Object(O.jsx)("img",{onClick:e.recommendation?void 0:function(){e.increaseCardNumber(),e.addPickedMovie(e.movie)},src:e.movie[0],alt:e.movie[1],className:"movie-tile-img"}),Object(O.jsx)("div",{className:"movie-tile-title",children:e.movie[1]})]})})})),g=function(e){var t=function(e){for(var t=[],i=[],c=null;t.length<5;){var n=Math.floor(1e3*Math.random())+1;t.includes(n)||t.push(n)}for(var r=function(){var t=a[o];c=e.find((function(e){return e[5]===t.toString()})),i.push(c)},o=0,a=t;o<a.length;o++)r();return i}(e);try{return Object(O.jsx)(O.Fragment,{children:t.map((function(e){return Object(O.jsx)("div",{className:"col movie-tile-col",children:Object(O.jsx)(F,{movie:e,recommendation:!1})},e[5])}))})}catch(i){throw console.log("movie tile error ",t),new Error("Get Movie tile JSX Error")}},E=function(e,t){var i=function(e,t){var i,c,n=3e3,r=new Map,o=[],a=e.map((function(e){return e[5]}));return e.forEach((function(e){parseInt(e[2])<n&&(n=parseInt(e[2])),e[3].split(",").map((function(e){return e.trim()})).forEach((function(e){r.has(e)||r.set(e,0),r.set(e,r.get(e)+1)}))})),i=new Map(Object(N.a)(r.entries()).sort((function(e,t){return t[1]-e[1]}))),c=i.keys().next().value,t.forEach((function(e){!a.includes(e[5])&&e[3].split(",").map((function(e){return e.trim()})).includes(c)&&parseInt(e[2])>n&&o.length<10&&o.push(e)})),o}(e,t);return Object(O.jsx)(O.Fragment,{children:i.map((function(e){return Object(O.jsx)("div",{className:"col movie-tile-col",children:Object(O.jsx)(F,{movie:e,recommendation:!0})},e[5])}))})},_={populateMovieList:function(e){return{type:l,payload:e}},playFinderFunction:function(){return{type:b}},restartFinderFunction:h},L=Object(d.b)((function(e){return{pickedMovieList:e.pickedMovieList,movieList:e.movieList,playFinder:e.playFinder,cardNumber:e.cardNumber,darkMode:e.darkMode}}),_)((function(e){Object(c.useEffect)((function(){null===e.movieList&&function(e){try{k.a.parse(M,{download:!0,complete:function(t){t.data.shift(),e.populateMovieList(t.data)}})}catch(t){throw new Error("Parse movie csv file error")}}(e)}));var t=Object(c.useState)(""),i=Object(x.a)(t,2),n=i[0],r=i[1],o=function(){e.playFinder||e.playFinderFunction(),r(g(e.movieList))};return Object(c.useEffect)((function(){e.cardNumber>0&&e.cardNumber<10?o():10===e.cardNumber&&r(E(e.pickedMovieList,e.movieList))}),[e.cardNumber]),Object(O.jsx)(O.Fragment,{children:e.darkMode?Object(O.jsx)("div",{className:"row justify-content-center dark-body",id:"card-row",children:e.playFinder?Object(O.jsxs)("div",{className:"col dark-card",id:"card-col",children:[10===e.cardNumber?Object(O.jsx)("h2",{id:"card-title",className:"recommendation",children:"You should check out these movies!"}):Object(O.jsx)("h2",{id:"card-title",children:"Choose your favorite movies!"}),Object(O.jsx)("div",{className:"row",children:n}),Object(O.jsx)("div",{className:"row justify-content-center",children:Object(O.jsx)("div",{className:"col",children:10===e.cardNumber?Object(O.jsx)("button",{type:"button",className:"btn btn-primary complete",id:"play-button",onClick:function(){e.restartFinderFunction()},children:"Start Again!"}):Object(O.jsx)("button",{type:"button",className:"btn btn-primary",id:"play-button",onClick:function(){return o()},children:"None"})})})]}):Object(O.jsxs)("div",{className:"col dark-card",id:"card-col",children:[Object(O.jsx)("p",{id:"card-title-landing",children:"Movie Finder lets you discover new movies to watch by evaluating your favorite movies. Simply pick your favorite movies from each selection and let A.I. do the rest!"}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("button",{type:"button",className:"btn btn-primary",id:"play-button",onClick:function(){return o()},children:"Play"})})})]})}):Object(O.jsx)("div",{className:"row justify-content-center",id:"card-row",children:e.playFinder?Object(O.jsxs)("div",{className:"col",id:"card-col",children:[10===e.cardNumber?Object(O.jsx)("h2",{id:"card-title",className:"recommendation",children:"You should check out these movies!"}):Object(O.jsx)("h2",{id:"card-title",children:"Choose your favorite movies!"}),Object(O.jsx)("div",{className:"row",children:n}),Object(O.jsx)("div",{className:"row justify-content-center",children:Object(O.jsx)("div",{className:"col",children:10===e.cardNumber?Object(O.jsx)("button",{type:"button",className:"btn btn-primary complete",id:"play-button",onClick:function(){e.restartFinderFunction()},children:"Start Again!"}):Object(O.jsx)("button",{type:"button",className:"btn btn-primary",id:"play-button",onClick:function(){return o()},children:"None"})})})]}):Object(O.jsxs)("div",{className:"col",id:"card-col",children:[Object(O.jsx)("p",{id:"card-title-landing",children:"Movie Finder lets you discover new movies to watch by evaluating your favorite movies. Simply pick your favorite movies from each selection and let A.I. do the rest!"}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("button",{type:"button",className:"btn btn-primary",id:"play-button",onClick:function(){return o()},children:"Play"})})})]})})})}));var C=Object(d.b)((function(e){return{darkMode:e.darkMode}}))((function(e){return Object(O.jsx)(O.Fragment,{children:e.darkMode?Object(O.jsxs)("div",{className:"container-fluid dark-body",id:"app-container",children:[Object(O.jsx)(f,{}),Object(O.jsx)(L,{})]}):Object(O.jsxs)("div",{className:"container-fluid",id:"app-container",children:[Object(O.jsx)(f,{}),Object(O.jsx)(L,{})]})})})),D=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,34)).then((function(t){var i=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;i(e),c(e),n(e),r(e),o(e)}))},S=i(5),I=i(19),T=i(3),P={movieList:null,pickedMovieList:[],playFinder:!1,cardNumber:0,darkMode:!1},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(T.a)(Object(T.a)({},e),{},{pickedMovieList:[].concat(Object(N.a)(e.pickedMovieList),[t.payload])});case l:return Object(T.a)(Object(T.a)({},e),{},{movieList:t.payload});case b:return Object(T.a)(Object(T.a)({},e),{},{playFinder:!0});case m:return Object(T.a)(Object(T.a)({},e),{},{playFinder:!1,pickedMovieList:[],cardNumber:0});case j:return Object(T.a)(Object(T.a)({},e),{},{cardNumber:e.cardNumber+1});case v:return Object(T.a)(Object(T.a)({},e),{},{darkMode:!e.darkMode});default:return e}},A=[I.a],X=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()?Object(S.c)(R,Object(S.b)(S.a.apply(void 0,A),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())):Object(S.c)(R,Object(S.b)(S.a.apply(void 0,A)));o.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(d.a,{store:X,children:Object(O.jsx)(C,{})})}),document.getElementById("root")),D()}},[[33,1,2]]]);
//# sourceMappingURL=main.875bc649.chunk.js.map
(this["webpackJsonpmovie-finder"]=this["webpackJsonpmovie-finder"]||[]).push([[0],{25:function(e,t,i){},34:function(e,t,i){"use strict";i.r(t);var n=i(1),c=i.n(n),r=i(11),o=i.n(r),a=(i(25),i(26),i(7)),d=i(8),s=i(4),l="POPULATE_MOVIE_LIST",u="ADD_PICKED_MOVIE",m="CARD_NUMBER",j="PLAY_FINDER",b="RESTART_FINDER",v="DARK_MODE",h=function(){return{type:b}},O=i(0);var p={toggleDarkMode:function(){return{type:v}},restartFinderFunction:h},f=Object(s.b)((function(e){return{darkMode:e.darkMode}}),p)((function(e){return Object(O.jsx)(O.Fragment,{children:e.darkMode?Object(O.jsxs)("div",{className:"row align-items-center dark",id:"header-row",children:[Object(O.jsx)("div",{className:"col-9 dark",id:"header-col",children:Object(O.jsxs)("span",{onClick:function(){return e.restartFinderFunction()},children:[Object(O.jsx)(a.a,{icon:d.a,id:"header-icon",className:"dark"}),"Movie Finder"]})}),Object(O.jsxs)("div",{className:"col-3",children:[Object(O.jsx)("div",{id:"dark-mode-title",children:"Dark Mode"}),Object(O.jsxs)("label",{className:"switch",children:[Object(O.jsx)("input",{type:"checkbox",name:"dark-mode-checkbox",onClick:function(){return e.toggleDarkMode()}}),Object(O.jsx)("span",{className:"slider round"})]})]})]}):Object(O.jsxs)("div",{className:"row align-items-center",id:"header-row",children:[Object(O.jsx)("div",{className:"col-9",id:"header-col",children:Object(O.jsxs)("span",{onClick:function(){return e.restartFinderFunction()},children:[Object(O.jsx)(a.a,{icon:d.a,id:"header-icon"}),"Movie Finder"]})}),Object(O.jsxs)("div",{className:"col-3",children:[Object(O.jsx)("div",{id:"dark-mode-title",children:"Dark Mode"}),Object(O.jsxs)("label",{className:"switch",children:[Object(O.jsx)("input",{type:"checkbox",name:"dark-mode-checkbox",onClick:function(){return e.toggleDarkMode()}}),Object(O.jsx)("span",{className:"slider round"})]})]})]})})})),x=i(12),N=i(13),y={increaseCardNumber:function(){return{type:m}},addPickedMovie:function(e){return{type:u,payload:e}}},k=Object(s.b)((function(e){return{darkMode:e.darkMode}}),y)((function(e){var t=Object(n.useState)("movie-tile-description-hidden"),i=Object(x.a)(t,2),c=i[0],r=i[1];return Object(O.jsx)(O.Fragment,{children:e.darkMode?Object(O.jsxs)("div",{className:"movie-tile",children:[Object(O.jsx)(a.a,{icon:d.b,className:"movietile-info",onMouseEnter:function(){return r("movie-tile-description-shown")},onMouseLeave:function(){return r("movie-tile-description-hidden")},onTouchStart:function(){return r("movie-tile-description-shown")}}),Object(O.jsx)("p",{className:c,children:e.movie[4]}),Object(O.jsx)("img",{onClick:e.recommendation?void 0:function(){e.increaseCardNumber(),e.addPickedMovie(e.movie)},src:e.movie[0],alt:e.movie[1],className:e.recommendation?"movie-tile-img dark-tile-img recommendation":"movie-tile-img dark-tile-img"}),Object(O.jsx)("div",{className:"movie-tile-title",children:e.movie[1]})]}):Object(O.jsxs)("div",{className:"movie-tile",children:[Object(O.jsx)(a.a,{icon:d.b,className:"movietile-info",onMouseEnter:function(){return r("movie-tile-description-shown")},onMouseLeave:function(){return r("movie-tile-description-hidden")},onTouchStart:function(){return r("movie-tile-description-shown")}}),Object(O.jsx)("p",{className:c,children:e.movie[4]}),Object(O.jsx)("img",{onClick:e.recommendation?void 0:function(){e.increaseCardNumber(),e.addPickedMovie(e.movie)},src:e.movie[0],alt:e.movie[1],className:e.recommendation?"movie-tile-img recommendation":"movie-tile-img"}),Object(O.jsx)("div",{className:"movie-tile-title",children:e.movie[1]})]})})})),M=function(e){var t=3e3,i=new Map;return e.forEach((function(e){parseInt(e[2])<t&&(t=parseInt(e[2])),e[3].split(",").map((function(e){return e.trim()})).forEach((function(e){i.has(e)||i.set(e,0),i.set(e,i.get(e)+1)}))})),{earliestReleasedYear:t,genreMap:i}},w=function(e){return new Map(Object(N.a)(e.entries()).sort((function(e,t){return t[1]-e[1]}))).keys().next().value},g=function(e,t){var i=function(e,t){for(var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,c=[],r=e.map((function(e){return e[5]})),o=M(e),a=o.earliestReleasedYear,d=o.genreMap,s=w(d);c.length<n;){i=Math.floor(Math.random()*t.length);try{!r.includes(t[i][5])&&t[i][3].split(",").map((function(e){return e.trim()})).includes(s)&&parseInt(t[i][2])>a&&(c.push(t[i]),r.push(t[i][5]))}catch(l){throw new Error("Cant Find recommended movies")}}return c}(e,t);return Object(O.jsx)(O.Fragment,{children:i.map((function(e){return Object(O.jsx)("div",{className:"col movie-tile-col",children:Object(O.jsx)(k,{movie:e,recommendation:!0})},e[5])}))})},F=i(18),E=i(19),_=i.n(E),L=i.p+"static/media/imdb_top_1000.e12a5ba6.csv",C=function(e){var t,i,n=function(){for(var e=[];e.length<5;){var t=Math.floor(1e3*Math.random())+1;e.includes(t)||e.push(t)}return e}(),c=[],r=Object(F.a)(n);try{var o=function(){var n=i.value;t=e.find((function(e){return e[5]===n.toString()})),c.push(t)};for(r.s();!(i=r.n()).done;)o()}catch(a){r.e(a)}finally{r.f()}return c},D=function(e){var t=C(e);try{return Object(O.jsx)(O.Fragment,{children:t.map((function(e){return Object(O.jsx)("div",{className:"col movie-tile-col",children:Object(O.jsx)(k,{movie:e,recommendation:!1})},e[5])}))})}catch(i){throw new Error("Get Movie tile JSX Error")}},S={populateMovieList:function(e){return{type:l,payload:e}},playFinderFunction:function(){return{type:j}},restartFinderFunction:h},I=Object(s.b)((function(e){return{pickedMovieList:e.pickedMovieList,movieList:e.movieList,playFinder:e.playFinder,cardNumber:e.cardNumber,darkMode:e.darkMode}}),S)((function(e){Object(n.useEffect)((function(){null===e.movieList&&function(e){try{_.a.parse(L,{download:!0,complete:function(t){t.data.shift(),e.populateMovieList(t.data)}})}catch(t){throw new Error("Parse movie csv file error")}}(e)}));var t=Object(n.useState)(""),i=Object(x.a)(t,2),c=i[0],r=i[1],o=function(){e.playFinder||e.playFinderFunction(),r(D(e.movieList))};return Object(n.useEffect)((function(){e.cardNumber>0&&e.cardNumber<10?(e.playFinder||e.playFinderFunction(),r(D(e.movieList))):10===e.cardNumber&&(r(g(e.pickedMovieList,e.movieList)),window.scroll({top:0,behavior:"smooth"}))}),[e.cardNumber]),Object(O.jsx)(O.Fragment,{children:e.darkMode?Object(O.jsx)("div",{className:"row justify-content-center dark-body",id:"card-row",children:e.playFinder?Object(O.jsxs)("div",{className:"col dark-card",id:"card-col",children:[10===e.cardNumber?Object(O.jsx)("h2",{id:"card-title",className:"recommendation",children:"You should check out these movies!"}):Object(O.jsx)("h2",{id:"card-title",children:"Choose your favorite movies!"}),Object(O.jsx)("div",{className:"row",children:c}),Object(O.jsx)("div",{className:"row justify-content-center",children:Object(O.jsx)("div",{className:"col",children:10===e.cardNumber?Object(O.jsx)("button",{type:"button",className:"btn btn-primary complete",id:"play-button",onClick:function(){e.restartFinderFunction()},children:"Start Again!"}):Object(O.jsx)("button",{type:"button",className:"btn btn-primary",id:"play-button",onClick:function(){return o()},children:"None"})})})]}):Object(O.jsxs)("div",{className:"col dark-card",id:"card-col",children:[Object(O.jsx)("p",{id:"card-title-landing",children:"Movie Finder lets you discover new movies to watch by evaluating your favorite movies. Simply pick your favorite movies from each selection and let A.I. do the rest!"}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("button",{type:"button",className:"btn btn-primary",id:"play-button",onClick:function(){return o()},children:"Play"})})})]})}):Object(O.jsx)("div",{className:"row justify-content-center",id:"card-row",children:e.playFinder?Object(O.jsxs)("div",{className:"col",id:"card-col",children:[10===e.cardNumber?Object(O.jsx)("h2",{id:"card-title",className:"recommendation",children:"You should check out these movies!"}):Object(O.jsx)("h2",{id:"card-title",children:"Choose your favorite movies!"}),Object(O.jsx)("div",{className:"row",children:c}),Object(O.jsx)("div",{className:"row justify-content-center",children:Object(O.jsx)("div",{className:"col",children:10===e.cardNumber?Object(O.jsx)("button",{type:"button",className:"btn btn-primary complete",id:"play-button",onClick:function(){e.restartFinderFunction()},children:"Start Again!"}):Object(O.jsx)("button",{type:"button",className:"btn btn-primary",id:"play-button",onClick:function(){return o()},children:"None"})})})]}):Object(O.jsxs)("div",{className:"col",id:"card-col",children:[Object(O.jsx)("p",{id:"card-title-landing",children:"Movie Finder lets you discover new movies to watch by evaluating your favorite movies. Simply pick your favorite movies from each selection and let A.I. do the rest!"}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("button",{type:"button",className:"btn btn-primary",id:"play-button",onClick:function(){return o()},children:"Play"})})})]})})})}));var T=Object(s.b)((function(e){return{darkMode:e.darkMode}}))((function(e){return Object(O.jsx)(O.Fragment,{children:e.darkMode?Object(O.jsxs)("div",{className:"container-fluid dark-body",id:"app-container",children:[Object(O.jsx)(f,{}),Object(O.jsx)(I,{})]}):Object(O.jsxs)("div",{className:"container-fluid",id:"app-container",children:[Object(O.jsx)(f,{}),Object(O.jsx)(I,{})]})})})),R=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,35)).then((function(t){var i=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;i(e),n(e),c(e),r(e),o(e)}))},P=i(5),A=i(20),X=i(3),U={movieList:null,pickedMovieList:[],playFinder:!1,cardNumber:0,darkMode:!1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(X.a)(Object(X.a)({},e),{},{pickedMovieList:[].concat(Object(N.a)(e.pickedMovieList),[t.payload])});case l:return Object(X.a)(Object(X.a)({},e),{},{movieList:t.payload});case j:return Object(X.a)(Object(X.a)({},e),{},{playFinder:!0});case b:return Object(X.a)(Object(X.a)({},e),{},{playFinder:!1,pickedMovieList:[],cardNumber:0});case m:return Object(X.a)(Object(X.a)({},e),{},{cardNumber:e.cardNumber+1});case v:return Object(X.a)(Object(X.a)({},e),{},{darkMode:!e.darkMode});default:return e}},Y=[A.a],B=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()?Object(P.c)(V,Object(P.b)(P.a.apply(void 0,Y),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())):Object(P.c)(V,Object(P.b)(P.a.apply(void 0,Y)));o.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(s.a,{store:B,children:Object(O.jsx)(T,{})})}),document.getElementById("root")),R()}},[[34,1,2]]]);
//# sourceMappingURL=main.cbaed6c8.chunk.js.map
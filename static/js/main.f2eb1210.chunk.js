(this["webpackJsonpmovie-finder"]=this["webpackJsonpmovie-finder"]||[]).push([[0],{25:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(9),a=n.n(i),o=(n(25),n(26),n(10)),d=n(11),s=n(4),l="POPULATE_MOVIE_LIST",u="ADD_PICKED_MOVIE",b="CARD_NUMBER",m="PLAY_FINDER",j="RESTART_FINDER",v="DARK_MODE",p=function(){return{type:j}},O=n(0);var h={toggleDarkMode:function(){return{type:v}},restartFinderFunction:p},f=Object(s.b)((function(e){return{darkMode:e.darkMode}}),h)((function(e){return Object(O.jsxs)("div",{className:"row align-items-center ".concat(e.darkMode?"dark":""),id:"header-row",children:[Object(O.jsx)("div",{className:"col-9 ".concat(e.darkMode?"dark":""),id:"header-col",children:Object(O.jsxs)("span",{onClick:function(){return e.restartFinderFunction()},children:[Object(O.jsx)(o.a,{icon:d.a,id:"header-icon",className:"".concat(e.darkMode?"dark":"")}),"Movie Finder"]})}),Object(O.jsxs)("div",{className:"col-3",children:[Object(O.jsx)("div",{id:"dark-mode-title",children:"Dark Mode"}),Object(O.jsxs)("label",{className:"switch",children:[Object(O.jsx)("input",{type:"checkbox",name:"dark-mode-checkbox",onClick:function(){return e.toggleDarkMode()}}),Object(O.jsx)("span",{className:"slider round"})]})]})]})})),k=n(12),N=n(13),y={increaseCardNumber:function(){return{type:b}},addPickedMovie:function(e){return{type:u,payload:e}}},M=Object(s.b)((function(e){return{darkMode:e.darkMode}}),y)((function(e){var t=Object(r.useState)("movie-tile-description-hidden"),n=Object(k.a)(t,2),c=n[0],i=n[1];return Object(O.jsxs)("div",{className:"movie-tile",children:[Object(O.jsx)(o.a,{icon:d.b,className:"movietile-info",onMouseEnter:function(){return i("movie-tile-description-shown")},onMouseLeave:function(){return i("movie-tile-description-hidden")},onTouchStart:function(){return i("movie-tile-description-shown")}}),Object(O.jsx)("p",{className:c,children:e.movie[4]}),Object(O.jsx)("img",{onClick:e.recommendation?void 0:function(){e.increaseCardNumber(),e.addPickedMovie(e.movie)},src:e.movie[0],alt:e.movie[1],className:e.recommendation?"movie-tile-img ".concat(e.darkMode?"dark-tile-img":""," recommendation"):"movie-tile-img ".concat(e.darkMode?"dark-tile-img":"")}),Object(O.jsx)("div",{className:"movie-tile-title",children:e.movie[1]})]})})),x=function(e){var t=3e3,n=new Map;return e.forEach((function(e){parseInt(e[2])<t&&(t=parseInt(e[2])),e[3].split(",").map((function(e){return e.trim()})).forEach((function(e){n.has(e)||n.set(e,0),n.set(e,n.get(e)+1)}))})),{earliestReleasedYear:t,genreMap:n}},F=function(e){return new Map(Object(N.a)(e.entries()).sort((function(e,t){return t[1]-e[1]}))).keys().next().value},E=function(e,t){var n=function(e,t){for(var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,c=[],i=e.map((function(e){return e[5]})),a=x(e),o=a.earliestReleasedYear,d=a.genreMap,s=F(d);c.length<r;){n=Math.floor(Math.random()*t.length);try{!i.includes(t[n][5])&&t[n][3].split(",").map((function(e){return e.trim()})).includes(s)&&parseInt(t[n][2])>o&&(c.push(t[n]),i.push(t[n][5]))}catch(l){throw new Error("Cant Find recommended movies")}}return c}(e,t);return Object(O.jsx)(O.Fragment,{children:n.map((function(e){return Object(O.jsx)("div",{className:"col movie-tile-col",children:Object(O.jsx)(M,{movie:e,recommendation:!0})},e[5])}))})},w=n(18),_=n(19),g=n.n(_),L=n.p+"static/media/imdb_top_1000.e12a5ba6.csv",D=function(e){var t,n,r=function(){for(var e=[];e.length<5;){var t=Math.floor(1e3*Math.random())+1;e.includes(t)||e.push(t)}return e}(),c=[],i=Object(w.a)(r);try{var a=function(){var r=n.value;t=e.find((function(e){return e[5]===r.toString()})),c.push(t)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return c},S=function(e){var t=D(e);try{return Object(O.jsx)(O.Fragment,{children:t.map((function(e){return Object(O.jsx)("div",{className:"col movie-tile-col",children:Object(O.jsx)(M,{movie:e,recommendation:!1})},e[5])}))})}catch(n){throw new Error("Get Movie tile JSX Error")}},C={populateMovieList:function(e){return{type:l,payload:e}},playFinderFunction:function(){return{type:m}},restartFinderFunction:p},I=Object(s.b)((function(e){return{pickedMovieList:e.pickedMovieList,movieList:e.movieList,playFinder:e.playFinder,cardNumber:e.cardNumber,darkMode:e.darkMode}}),C)((function(e){Object(r.useEffect)((function(){null===e.movieList&&function(e){try{g.a.parse(L,{download:!0,complete:function(t){t.data.shift(),e.populateMovieList(t.data)}})}catch(t){throw new Error("Parse movie csv file error")}}(e)}));var t=Object(r.useState)(""),n=Object(k.a)(t,2),c=n[0],i=n[1],a=function(){e.playFinder||e.playFinderFunction(),i(S(e.movieList))};return Object(r.useEffect)((function(){e.cardNumber>0&&e.cardNumber<10?(e.playFinder||e.playFinderFunction(),i(S(e.movieList))):10===e.cardNumber&&(i(E(e.pickedMovieList,e.movieList)),window.scroll({top:0,behavior:"smooth"}))}),[e.cardNumber]),Object(O.jsx)("div",{className:"row justify-content-center ".concat(e.darkMode?"dark-body":""),id:"card-row",children:e.playFinder?Object(O.jsxs)("div",{className:"col ".concat(e.darkMode?"dark-card":""),id:"card-col",children:[10===e.cardNumber?Object(O.jsx)("h2",{id:"card-title",className:"recommendation",children:"You should check out these movies!"}):Object(O.jsx)("h2",{id:"card-title",children:"Choose your favorite movies!"}),Object(O.jsx)("div",{className:"row",children:c}),Object(O.jsx)("div",{className:"row justify-content-center",children:10===e.cardNumber?Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("button",{type:"button",className:"btn btn-primary complete",id:"play-button",onClick:function(){e.restartFinderFunction()},children:"Start Again!"})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("button",{type:"button",className:"btn btn-primary restart",id:"play-button",onClick:function(){return e.restartFinderFunction()},children:"Restart"})}),Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("button",{type:"button",className:"btn btn-primary none",id:"play-button",onClick:function(){return a()},children:"None"})})]})})]}):Object(O.jsxs)("div",{className:"col ".concat(e.darkMode?"dark-card":""),id:"card-col",children:[Object(O.jsx)("p",{id:"card-title-landing",children:"Movie Finder lets you discover new movies to watch by evaluating your favorite movies. Simply pick your favorite movies from each selection and let A.I. do the rest!"}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("button",{type:"button",className:"btn btn-primary",id:"play-button",onClick:function(){return a()},children:"Play"})})})]})})}));var T=Object(s.b)((function(e){return{darkMode:e.darkMode}}))((function(e){return Object(O.jsx)(O.Fragment,{children:e.darkMode?Object(O.jsxs)("div",{className:"container-fluid dark-body",id:"app-container",children:[Object(O.jsx)(f,{}),Object(O.jsx)(I,{})]}):Object(O.jsxs)("div",{className:"container-fluid",id:"app-container",children:[Object(O.jsx)(f,{}),Object(O.jsx)(I,{})]})})})),R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))},P=n(5),X=n(20),A=n(3),U={movieList:null,pickedMovieList:[],playFinder:!1,cardNumber:0,darkMode:!1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(A.a)(Object(A.a)({},e),{},{pickedMovieList:[].concat(Object(N.a)(e.pickedMovieList),[t.payload])});case l:return Object(A.a)(Object(A.a)({},e),{},{movieList:t.payload});case m:return Object(A.a)(Object(A.a)({},e),{},{playFinder:!0});case j:return Object(A.a)(Object(A.a)({},e),{},{playFinder:!1,pickedMovieList:[],cardNumber:0});case b:return Object(A.a)(Object(A.a)({},e),{},{cardNumber:e.cardNumber+1});case v:return Object(A.a)(Object(A.a)({},e),{},{darkMode:!e.darkMode});default:return e}},Y=[X.a],B=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()?Object(P.c)(V,Object(P.b)(P.a.apply(void 0,Y),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())):Object(P.c)(V,Object(P.b)(P.a.apply(void 0,Y)));a.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(s.a,{store:B,children:Object(O.jsx)(T,{})})}),document.getElementById("root")),R()}},[[34,1,2]]]);
//# sourceMappingURL=main.f2eb1210.chunk.js.map